document.addEventListener('DOMContentLoaded', () => {
  const t = document.querySelector('[js-header]'),
    e = document.querySelectorAll('[js-sticky__crooked]'),
    s = document.querySelectorAll('[js-sticky]'),
    o = document.querySelector('[js-sticky__straight-big]'),
    i = document.querySelector('[js-sticky__straight-small]');
  window.matchMedia('(min-width: 720px)');
  let r,
    a = !1;
  const c = () => {
      document.querySelectorAll('pre').forEach((t) => {
        t.addEventListener('click', async () => {
          document.body.focus();
          try {
            await navigator.clipboard.writeText(t.innerText),
              t.setAttribute('data-tooltip', 'Copied!'),
              setTimeout(() => t.removeAttribute('data-tooltip'), 1e3);
          } catch (t) {
            console.error('Failed to copy text:', t);
          }
        });
      });
    },
    n = () => {
      s.forEach((t) => t.classList.add('has-sticker')),
        e.forEach((t) => {
          (t.style.transition = 'none'), t.classList.add('has-sticker');
        }),
        (o.style.transition = 'none'),
        (i.style.transition = 'none'),
        o.classList.add('has-sticker'),
        i.classList.add('has-sticker');
    },
    l = () => {
      s.forEach((t) => t.classList.remove('has-sticker')),
        (o.style.transition = 'ease-in 950ms'),
        o.classList.remove('has-sticker'),
        o.addEventListener('transitionend', () => {
          a ||
            ((i.style.transition = 'ease-in 450ms'),
            i.classList.remove('has-sticker'),
            e.forEach((t) => {
              (t.style.transition = 'ease-in 450ms'), t.classList.remove('has-sticker');
            }));
        });
    },
    d = () => {
      window.scrollY > t.offsetTop && !a ? (n(), (a = !0)) : window.scrollY <= t.offsetTop && a && !r && (l(), (a = !1));
    };
  c(), (window.onscroll = d);
});
